<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="ISO-8859-1">
<title>Discussion</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css" th:href="@{/css/styles.css}">
        <script th:src="@{/js/script.js}"></script>
</head>
<body>

<h1> Discussion Thread</h1>
<br>


<h4><a th:href="@{/home}">View all Threads</a></h4>
<br>
<hr>
<div class="message">
<table class="table table-bordered table-striped">
<thead class="thead-dark">
<tr>

<!-- <th> Thread ID </th> -->
<th> Employee </th>
<th> Message </th>
<th> Date </th>
<th> Time </th>


</tr>

<tr th:each="a : ${messages}" >

<!-- <td th:text="${a.threadId}"> </td> -->
<td th:text="${a.employee}"> </td>
<td th:text="${a.message}"> </td>
<td th:text="${a.dates}"> </td>
<td th:text="${a.times}"> </td>



</tr>
</table>
</div>


<br> 
<hr>
<h2> Add to the Discussion </h2>

<form th:method="post" action="#" th:action="@{/view/{id}(id=${id})}" th:object="${messages}"> 
	 <input type="hidden" name="threadId" min="1" th:value="${id}"   required><br>
	Message: <textarea id="message" name="message" rows="4" cols="50" required></textarea><br>
	Date: <input type="date" name="dates" id="currentDate" onmouseover="hoverDate()" required> <br>
	Time: <input type="time" name="times" id="timeMessage" onmouseover="hover()" required > <span id="msg"></span> <br> <!-- originally was required, but JS was having issues so if anything you can manually input -->
	<input type="hidden" name="employee" th:value="${#authentication.getPrincipal().getUsername()}"> <br>
	<input type="submit" value="Add Post"> 

</form>




</body>
</html>